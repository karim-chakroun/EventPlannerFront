<form [formGroup]="firstFormGroup" (submit)="onSubmit()">
    <mat-stepper #stepper>

        <mat-step [stepControl]="firstFormGroup" errorMessage="Type is required.">
            <form [formGroup]="firstFormGroup">
                <div mat-dialog-content>
                    <ng-template matStepLabel>Step 1: Chose the event type</ng-template>
                    <mat-form-field appearance="outline">
                        <mat-label>Type</mat-label>
                        <mat-select formControlName="type">
                            <mat-option value="Education">Education</mat-option>
                            <mat-option value="Wedding">Wedding</mat-option>
                            <mat-option value="Festival">Festival</mat-option>
                            <mat-option value="Other">Other</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <mat-dialog-actions align="end">
                    <div>

                        <button mat-button matStepperNext>Next</button>
                    </div>
                </mat-dialog-actions>
            </form>
        </mat-step>
        <mat-step [stepControl]="secondFormGroup" errorMessage="Address is required.">
            <form [formGroup]="secondFormGroup">
                <div mat-dialog-content>
                    <ng-template matStepLabel>Step 2: Event Infos</ng-template>
                    <div class="row">
                        <div class="col-md-5">
                            <mat-form-field appearance="outline">
                                <mat-label>Event Name</mat-label>
                                <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="EventName"
                                    required>
                            </mat-form-field>
                        </div>
                        <div class="col-md-7">
                            <mat-form-field appearance="outline">
                                <mat-label>Location</mat-label>
                                <input matInput placeholder="Ex. 1 Main St, New York, NY" formControlName="Adresse"
                                    required>
                                <mat-icon matSuffix>location_on</mat-icon>
                            </mat-form-field>
                        </div>
                        <div class="col-md-12">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>Description</mat-label>
                                <textarea matInput placeholder="Ex. It makes me feel..."
                                    formControlName="Description"></textarea>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">

                            <mat-form-field appearance="outline">
                                <mat-label>Start date</mat-label>
                                <input matInput [matDatepicker]="picker" formControlName="DateDebut">
                                <mat-hint>MM/DD/YYYY</mat-hint>
                                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">

                            <mat-form-field appearance="outline">
                                <mat-label>End date</mat-label>
                                <input matInput [matDatepicker]="picker1" formControlName="DateFin">
                                <mat-hint>MM/DD/YYYY</mat-hint>
                                <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <mat-dialog-actions align="end">

                    <div>

                        <button mat-button matStepperPrevious>Back</button>
                        <button mat-button matStepperNext>Next</button>
                    </div>
                </mat-dialog-actions>
            </form>
        </mat-step>
        <mat-step>
            <div mat-dialog-content>
                <div align="left">
                    <mat-form-field class="filter">
                        <mat-label>Filter</mat-label>
                        <input matInput placeholder="Filter">

                    </mat-form-field>
                </div>
                <ng-template matStepLabel>Final Step: Add services</ng-template>
                <h3>Services</h3>
                <div class="row">
                    <div class="col-md-4" *ngFor="let s of MyServices">
                        <div class="card" style="width: 15rem;">
                            <img src="assets/img/food.png" class="card-img-top">
                            <div class="card-body">
                                <h5 class="card-title">{{s.serviceName}}</h5>
                                <p class="card-text">{{s.description}}</p>
                                <a href="#" mat-raised-button color="accent">Add Service</a>
                            </div>
                        </div>
                        <br>
                    </div>
                </div>
                <p>You are now done.</p>
            </div>
            <br>
            <h6>Cost: </h6>
            <h6>My event services: </h6>
            <mat-chip-row *ngFor="let fruit of fruits" (removed)="remove(fruit)">
                {{fruit.name}}
                <button matChipRemove [attr.aria-label]="'remove ' + fruit.name">
                    <mat-icon>cancel</mat-icon>
                </button>
            </mat-chip-row>
            <mat-dialog-actions align="end">
                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button (click)="stepper.reset()">Reset</button>
                    <button mat-button type="submit">Add Event</button>
                </div>
            </mat-dialog-actions>
        </mat-step>
    </mat-stepper>
</form>